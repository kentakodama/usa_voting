<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <p>hello!</p>
  
    <div id="map"></div>
    <script src="http://d3js.org/d3.v4.min.js" charset="utf-8"></script>
    <script src="http://d3js.org/topojson.v3.min.js"></script>
    <script>
      
      const height = 600;
      const width = 1200;
      
      let usa = void 0;
      
      const path = d3.geoPath()
      
      const svg = d3.select('#map')
                    .append('svg')
                    .attr('height', height)
                    .attr('width', width)
      
      const handleHover = function(d) {
        console.log(d.id);
      }
                    
      d3.json("https://d3js.org/us-10m.v1.json", function(data) {
        console.log(data.objects.counties);
        const states = topojson.feature(data, data.objects.counties)
        
        const map = svg.append('g')
        
        usa = map.selectAll('path').data(states.features) //must always be features regardless of what it says in json
        
        var color = d3.scaleLinear().domain([0,3141]).range(['red', 'blue']);
        
        usa.enter()
          .append('path')
          .attr('d', path)
          .attr('fill', (d, i) => color(i) )
          .on('mouseover', handleHover)
        usa.attr('fill', '#eee');
        
        usa.exit().remove();
        
      })
      
      
      
      
    </script>
    
  </body>
</html>